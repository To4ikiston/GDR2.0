<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–î–µ—Ç–µ–∫—Ç–æ—Ä (3 —Å–µ–∫. single attempt)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: auto;
      max-width: 480px;
      font-family: sans-serif;
      padding: 8px;
    }
    h1 { text-align: center; }
    button {
      font-size: 1.1em;
      margin: 5px;
      padding: 6px 12px;
    }
    .slider-block {
      margin-top: 10px;
    }
    #rmsBar {
      width: 0%;
      height: 10px;
      background: #06c;
      transition: width 0.2s;
    }
    #rmsContainer {
      width: 100%;
      background: #ccc;
      height: 10px;
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <h1>–î–µ—Ç–µ–∫—Ç–æ—Ä (3 —Å–µ–∫.)</h1>

  <div>
    <button id="startBtn">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
    <button id="stopBtn">–û—Ç–∫–ª—é—á–∏—Ç—å</button>
    <button id="testAlarmBtn">–¢–µ—Å—Ç</button>
  </div>

  <p>–°—Ç–∞—Ç—É—Å: <span id="statusSpan">–í–´–ö–õ–Æ–ß–ï–ù–ê</span></p>
  <p>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥—Ä–æ–Ω–∞: <span id="probSpan">0.00</span></p>
  <p>RMS: <span id="rmsSpan">0.00</span></p>
  <div id="rmsContainer"><div id="rmsBar"></div></div>
  <p>–†–µ–∑—É–ª—å—Ç–∞—Ç: <span id="resultSpan">-</span></p>

  <p id="alertP" style="display:none; color:red; font-weight:bold;">
    üö® –î–†–û–ù –û–ë–ù–ê–†–£–ñ–ï–ù!
  </p>

  <audio id="alarmAudio" src="alarm.wav"></audio>

  <!-- –°–ª–∞–π–¥–µ—Ä—ã -->
  <div class="slider-block">
    <label>ML Threshold (th): <span id="thVal">0.80</span></label><br>
    <input id="thRange" type="range" min="0.5" max="0.99" step="0.01" value="0.80">
  </div>
  <div class="slider-block">
    <label>RMS Min (rms): <span id="rmsMinVal">0.05</span></label><br>
    <input id="rmsMinRange" type="range" min="0" max="0.2" step="0.01" value="0.05">
  </div>
  <div class="slider-block">
    <label>Gain (gain): <span id="gainVal">10</span></label><br>
    <input id="gainRange" type="range" min="1" max="20" step="1" value="10">
  </div>

  <script src="main.js"></script>
</body>
</html>
